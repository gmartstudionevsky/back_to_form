# Back to Form (S0)

Минималистичное офлайн‑дружелюбное web‑приложение для фитнеса, питания и прогресса. Интерфейс и документация на русском, ориентировано на iPhone (Safari) с крупными элементами, bottom tabs и быстрыми действиями.

## Новая логика: «План → Сегодня → Факт»
1. **План** — создаёте периоды и наполняете дни: меню, тренировки, требования (вес/талия/фото/лимит сигарет).
2. **Сегодня** — превращается в пульт управления: план отображается сразу, доступно «Съел по плану», быстрые кнопки действий и запуск тренировки.
3. **Факт** — в трекере видно, что было запланировано и что выполнено, с процентом закрытия и сравнениями.

## Стек
- **TypeScript + React + Vite**
- **TailwindCSS**
- **Zustand** (простое состояние)
- **LocalStorage** + **IndexedDB** (фото и медиа)
- **PWA**: manifest + service worker

## Запуск локально
```bash
npm install
npm run dev
```

## Сборка
```bash
npm run build
npm run preview
```

## Деплой на GitHub Pages
В репозитории есть workflow `.github/workflows/deploy.yml`, который собирает Vite‑приложение и публикует содержимое `dist`.

1. Проверьте, что в `vite.config.ts` корректный `base` (по умолчанию `'/back_to_form/'`).
2. Пуш в `main` автоматически запускает build + deploy через GitHub Actions.

> Если репозиторий называется иначе, задайте `VITE_BASE_PATH` при сборке:
```bash
VITE_BASE_PATH=/my-repo/ npm run build
```

## Где редактировать словари
Все глобальные сущности хранятся в `src/data/seed.ts`. Добавляйте/правьте:
- упражнения, протоколы, продукты, блюда, правила
- seed‑периоды и планы дней

После первого запуска данные сохраняются в LocalStorage. Чтобы «пересидить» сид, используйте кнопку **Сбросить все данные**.

## Как добавить новый период и меню
1. Откройте вкладку **План**.
2. Создайте период и выберите день.
3. Наполните меню (завтрак/обед/ужин/перекус), тренировки и требования.

## Экспорт / импорт данных
- **Экспорт JSON**: сохраняет все сущности, **кроме фото/видео**.
- **Импорт JSON**: **replace-all** (полная замена локальных данных).
- **CSV summary**: агрегированный отчёт по датам.

## Фото и приватность
Фото и видео упражнений сохраняются только локально (IndexedDB). При экспорте JSON файлы не включаются.

## Структура проекта (кратко)
- `src/data/seed.ts` — стартовые данные
- `src/store/useAppStore.ts` — состояние
- `src/storage/` — LocalStorage + IndexedDB
- `src/pages/` — экраны
- `public/` — manifest, service worker

## Примечания
- Шрифт: Manrope (максимально близко к Circe).
- Переходы и bottom sheet реализованы минималистично.
